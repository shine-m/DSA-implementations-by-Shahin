insert only inserts a new element if the key doesn’t already exist.

If the key already exists, insert does nothing — it silently ignores the operation.

So, if you checked whether key exists or not in the map, then while you are checking, it indirectly creates an entry of that key value into the map. So, you are creating an entry with undefined value, but the key exists in the map. So, when you insert afterwards, after checking that value exists or not, then the map will do nothing. Because map only inserts when the insertion or the value or the key that is being inserted is not existing in the map, especially in normal map, not in multi-map. Okay? So, be careful while checking a entry exists or not in the map and inserting. In this case, use direct access or direct memory access type facilities like mp of x plus plus, this type of functionalities still work in this type of fields. But if you do something like mp.insert, then key and values, then this will not work if the key already exists in the map. And you are unintentionally creating that entry in the map unknowingly. So, don't, if you have checked that a particular entry exists or not, then if you in future want to enter that entry with the same key value, then you will have to go through direct index access, not with mp or map.insert.For better qualification or a practical example that why this type of scenarios occur and why this type of operations are failed by MAP, then you can see the LeetCode problem which I have solved in my shahinmahmud068@gmail.com account in LeetCode. The problem is two Sum which is the first problem of the LeetCode  problem list.